{"version":3,"file":"index-MCePl0yF.js","sources":["../../../../components/ui/table/Table.vue","../../../../components/ui/table/TableBody.vue","../../../../components/ui/table/TableCell.vue","../../../../components/ui/table/TableHead.vue","../../../../components/ui/table/TableHeader.vue","../../../../components/ui/table/TableRow.vue","../../../../pages/customers/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue'\nimport { cn } from '@/utils'\n\nconst props = defineProps<{\n  class?: HTMLAttributes['class']\n}>()\n</script>\n\n<template>\n  <div class=\"relative w-full overflow-auto\">\n    <table :class=\"cn('w-full caption-bottom text-sm', props.class)\">\n      <slot />\n    </table>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue'\nimport { cn } from '@/utils'\n\nconst props = defineProps<{\n  class?: HTMLAttributes['class']\n}>()\n</script>\n\n<template>\n  <tbody :class=\"cn('[&_tr:last-child]:border-0', props.class)\">\n    <slot />\n  </tbody>\n</template>\n","<script setup lang=\"ts\">\nimport type { HTMLAttributes } from \"vue\";\nimport { cn } from \"@/utils\";\n\nconst props = defineProps<{\n  class?: HTMLAttributes[\"class\"];\n}>();\n</script>\n\n<template>\n  <td\n    :class=\"\n      cn(\n        'p-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5',\n        props.class\n      )\n    \"\n  >\n    <slot />\n  </td>\n</template>\n","<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue'\nimport { cn } from '@/utils'\n\nconst props = defineProps<{\n  class?: HTMLAttributes['class']\n}>()\n</script>\n\n<template>\n  <th :class=\"cn('h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5', props.class)\">\n    <slot />\n  </th>\n</template>\n","<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue'\nimport { cn } from '@/utils'\n\nconst props = defineProps<{\n  class?: HTMLAttributes['class']\n}>()\n</script>\n\n<template>\n  <thead :class=\"cn('[&_tr]:border-b', props.class)\">\n    <slot />\n  </thead>\n</template>\n","<script setup lang=\"ts\">\nimport type { HTMLAttributes } from 'vue'\nimport { cn } from '@/utils'\n\nconst props = defineProps<{\n  class?: HTMLAttributes['class']\n}>()\n</script>\n\n<template>\n  <tr :class=\"cn('border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted', props.class)\">\n    <slot />\n  </tr>\n</template>\n","<script lang=\"ts\" setup>\r\nimport { useQuery } from \"@tanstack/vue-query\";\r\nimport { COLLECTION_CUSTOMERS, DB_ID } from \"~/app.constants\";\r\nimport type { ICustomer } from \"~/types/deals.types\";\r\n\r\nuseSeoMeta({\r\n  title: \"Customers | CRM System\",\r\n});\r\n\r\nconst { data: customers, isLoading } = useQuery({\r\n  queryKey: [\"customers\"],\r\n  queryFn: () => DB.listDocuments(DB_ID, COLLECTION_CUSTOMERS),\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div class=\"p-10\">\r\n    <h1 class=\"font-bold text-2xl mb-10\">Наши клиенты</h1>\r\n    <div v-if=\"isLoading\">Loading...</div>\r\n    <UiTable v-else>\r\n      <UiTableHeader>\r\n        <UiTableRow>\r\n          <UiTableHead class=\"w-[150px]\">Изображение</UiTableHead>\r\n          <UiTableHead class=\"w-[300px]\">Наименование</UiTableHead>\r\n          <UiTableHead class=\"w-[300px]\">Email</UiTableHead>\r\n          <UiTableHead>Откуда пришел</UiTableHead>\r\n        </UiTableRow>\r\n      </UiTableHeader>\r\n      <UiTableBody>\r\n        <UiTableRow\r\n          v-for=\"customer in (customers?.documents as unknown as ICustomer[])\"\r\n          :key=\"customer.$id\"\r\n        >\r\n          <UiTableCell>\r\n            <NuxtLink :href=\"`/customers/edit/${customer.$id}`\">\r\n              <NuxtImg\r\n                :src=\"customer.avatar_url\"\r\n                :alt=\"customer.name\"\r\n                width=\"50\"\r\n                height=\"50\"\r\n                class=\"rounded-full\"\r\n              />\r\n            </NuxtLink>\r\n          </UiTableCell>\r\n          <UiTableCell class=\"font-medium\">\r\n            {{ customer.name }}\r\n          </UiTableCell>\r\n          <UiTableCell>{{ customer.email }}</UiTableCell>\r\n          <UiTableCell>{{ customer.from_source }}</UiTableCell>\r\n        </UiTableRow>\r\n      </UiTableBody>\r\n    </UiTable>\r\n  </div>\r\n</template>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,UAAM,QAAQ;;;;;;;;;;;;;;;;;;;;;ACAd,UAAM,QAAQ;;;;;;;;;;;;;;;;;;;;;;;ACAd,UAAM,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;ACAd,UAAM,QAAQ;;;;;;;;;;;;;;;;;;;;;;;ACAd,UAAM,QAAQ;;;;;;;;;;;;;;;;;;;;;;;ACAd,UAAM,QAAQ;;;;;;;;;;;;;;;;;;;;ACCH,eAAA;AAAA,MACT,OAAO;AAAA,IAAA,CACR;AAED,UAAM,EAAE,MAAM,WAAW,UAAA,IAAc,SAAS;AAAA,MAC9C,UAAU,CAAC,WAAW;AAAA,MACtB,SAAS,MAAM,GAAG,cAAc,OAAO,oBAAoB;AAAA,IAAA,CAC5D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}