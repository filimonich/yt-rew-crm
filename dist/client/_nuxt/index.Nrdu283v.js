import{c as p,u as B}from"./index.Ch9xVUq6.js";import{f as u,o as l,c as n,a as y,r as m,q as i,k as c,s as T,w as e,b as a,d as _,F as U,v as D,t as h}from"./entry.gr-FopAl.js";import{_ as L}from"./nuxt-img.BPIjlKGF.js";import{_ as N}from"./nuxt-link.D0GIOg5z.js";import{D as S,a as E,C as H}from"./appwrite.DjCiGi0b.js";import{u as R}from"./useQuery.BdH6XiN5.js";const q={class:"relative w-full overflow-auto"},F=u({__name:"Table",props:{class:{}},setup(o){const s=o;return(t,d)=>(l(),n("div",q,[y("table",{class:i(c(p)("w-full caption-bottom text-sm",s.class))},[m(t.$slots,"default")],2)]))}}),I=u({__name:"TableBody",props:{class:{}},setup(o){const s=o;return(t,d)=>(l(),n("tbody",{class:i(c(p)("[&_tr:last-child]:border-0",s.class))},[m(t.$slots,"default")],2))}}),M=u({__name:"TableCell",props:{class:{}},setup(o){const s=o;return(t,d)=>(l(),n("td",{class:i(c(p)("p-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5",s.class))},[m(t.$slots,"default")],2))}}),O=u({__name:"TableHead",props:{class:{}},setup(o){const s=o;return(t,d)=>(l(),n("th",{class:i(c(p)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-0.5",s.class))},[m(t.$slots,"default")],2))}}),V=u({__name:"TableHeader",props:{class:{}},setup(o){const s=o;return(t,d)=>(l(),n("thead",{class:i(c(p)("[&_tr]:border-b",s.class))},[m(t.$slots,"default")],2))}}),z=u({__name:"TableRow",props:{class:{}},setup(o){const s=o;return(t,d)=>(l(),n("tr",{class:i(c(p)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s.class))},[m(t.$slots,"default")],2))}}),K={class:"p-10"},Q=y("h1",{class:"font-bold text-2xl mb-10"},"Наши клиенты",-1),j={key:0},Z=u({__name:"index",setup(o){B({title:"Customers | CRM System"});const{data:s,isLoading:t}=R({queryKey:["customers"],queryFn:()=>S.listDocuments(E,H)});return(d,A)=>{const f=O,x=z,k=V,g=L,w=N,b=M,C=I,v=F;return l(),n("div",K,[Q,c(t)?(l(),n("div",j,"Loading...")):(l(),T(v,{key:1},{default:e(()=>[a(k,null,{default:e(()=>[a(x,null,{default:e(()=>[a(f,{class:"w-[150px]"},{default:e(()=>[_("Изображение")]),_:1}),a(f,{class:"w-[300px]"},{default:e(()=>[_("Наименование")]),_:1}),a(f,{class:"w-[300px]"},{default:e(()=>[_("Email")]),_:1}),a(f,null,{default:e(()=>[_("Откуда пришел")]),_:1})]),_:1})]),_:1}),a(C,null,{default:e(()=>{var $;return[(l(!0),n(U,null,D(($=c(s))==null?void 0:$.documents,r=>(l(),T(x,{key:r.$id},{default:e(()=>[a(b,null,{default:e(()=>[a(w,{href:`/customers/edit/${r.$id}`},{default:e(()=>[a(g,{src:r.avatar_url,alt:r.name,width:"50",height:"50",class:"rounded-full"},null,8,["src","alt"])]),_:2},1032,["href"])]),_:2},1024),a(b,{class:"font-medium"},{default:e(()=>[_(h(r.name),1)]),_:2},1024),a(b,null,{default:e(()=>[_(h(r.email),1)]),_:2},1024),a(b,null,{default:e(()=>[_(h(r.from_source),1)]),_:2},1024)]),_:2},1024))),128))]}),_:1})]),_:1}))])}}});export{Z as default};
